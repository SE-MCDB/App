(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-collect-user-collect"],{"6fe9":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return r}));var r={uniSwipeAction:n("3a7a").default,uniSwipeActionItem:n("632b").default,historyList:n("b52b").default},i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("uni-swipe-action",[t._l(t.list,(function(e,r){return[n("uni-swipe-action-item",{key:r,attrs:{options:t.options},on:{onClick:function(n){arguments[0]=n=t.$handleEvent(n),t.onClick(e,r)}}},[n("history-list",{key:r,attrs:{item:e},on:{gotoTopicInfo:function(e){arguments[0]=e=t.$handleEvent(e),t.gotoTopicInfo.apply(void 0,arguments)}}})],1)]}))],2),0==t.list.length?n("no-thing"):t._e(),n("load-more",{attrs:{loadtext:t.loadtext}})],1)},a=[]},"7c52":function(t,e,n){"use strict";var r=n("4ea4");n("a434"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("96cf");var i=r(n("1da1")),a=r(n("5530")),o=r(n("b52b")),u=r(n("f758")),c=r(n("792a")),l=r(n("3a7a")),s=r(n("632b")),f=n("f690"),d=n("26cb"),p={components:{historyList:o.default,loadMore:u.default,uniSwipeAction:l.default,uniSwipeActionItem:s.default,noThing:c.default},computed:(0,a.default)({},(0,d.mapState)(["userInfo"])),onShow:function(){this.initData()},data:function(){return{list:[],loadtext:"",options:[{text:"删除",style:{backgroundColor:"#dd524d"}}]}},mounted:function(){this.initData()},methods:{initData:function(){var t=this;return(0,i.default)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.userInfo.id){e.next=8;break}return e.next=3,(0,f.getTopicCollect)(1,{num_per_page:1e5,interpretation:!0});case 3:if(n=e.sent,0!==n.length){e.next=7;break}return t.loadtext="收藏为空",e.abrupt("return");case 7:t.list=n;case 8:case"end":return e.stop()}}),e)})))()},onClick:function(t,e){var n={Authorization:"Bearer "+uni.getStorageSync("token")};this.$http.post("Interpretation/"+t.id+"/unfavor",{},n),this.$http.toast("取消收藏!"),this.list.splice(e,1)},gotoTopicInfo:function(t){uni.navigateTo({url:"../../pages/detail/detail?id="+t.id})}}};e.default=p},d715:function(t,e,n){"use strict";n.r(e);var r=n("6fe9"),i=n("e1e7");for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);var o,u=n("f0c5"),c=Object(u["a"])(i["default"],r["b"],r["c"],!1,null,"20d97318",null,!1,r["a"],o);e["default"]=c.exports},e1e7:function(t,e,n){"use strict";n.r(e);var r=n("7c52"),i=n.n(r);for(var a in r)"default"!==a&&function(t){n.d(e,t,(function(){return r[t]}))}(a);e["default"]=i.a},f690:function(t,e,n){"use strict";(function(t){var r=n("4ea4");n("4160"),n("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.createCollect=e.deleteCollect=e.getTopicCollect=void 0,n("96cf");var i=r(n("1da1")),a=r(n("4622")),o=n("13b4"),u=function(){var e=(0,i.default)(regeneratorRuntime.mark((function e(){var n,r,i,u,c,l=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=l.length>0&&void 0!==l[0]?l[0]:1,r=l.length>1?l[1]:void 0,i={Authorization:"Bearer "+uni.getStorageSync("token")},e.next=5,a.default.get("favorites/page/"+n,r,i);case 5:return u=e.sent,c=u.page,c&&c.length&&c.forEach((function(t){t.userpic=o.picUrl+t.userpic})),t("log",c," at api/user-collect.js:23"),e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e.getTopicCollect=u;var c=function(){var t=(0,i.default)(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={Authorization:"Bearer "+uni.getStorageSync("token")},a.default.setLoading(!1),t.next=4,a.default.delete("Interpretation/collect",{ids:[e]},n);case 4:return r=t.sent,a.default.setLoading(!0),t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();e.deleteCollect=c;var l=function(){var t=(0,i.default)(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={Authorization:"Bearer "+uni.getStorageSync("token")},t.next=3,a.default.delete("Interpretation/collect",e,n);case 3:return r=t.sent,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();e.createCollect=l}).call(this,n("0de9")["log"])}}]);