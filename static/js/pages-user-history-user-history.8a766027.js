(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-history-user-history"],{"0785":function(t,e,n){"use strict";var i=n("4ea4");n("26e9"),Object.defineProperty(e,"__esModule",{value:!0}),e.deleteHistory=e.getTopicHistory=void 0,n("96cf");var r=i(n("1da1")),o=i(n("4622")),u=n("13b4"),a=function(){var t=(0,r.default)(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o.default.get("topic/history");case 2:return n=t.sent,n&&n.length?n.reverse():n=[],t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();e.getTopicHistory=a;var s=function(){var t=(0,r.default)(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o.default.setLoading(!1),t.next=3,o.default.delete("topic/history",{ids:[e]},u.headerForm);case 3:return n=t.sent,o.default.setLoading(!0),t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();e.deleteHistory=s},"61f2":function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var i={uniSwipeAction:n("3a7a").default,uniSwipeActionItem:n("632b").default,historyList:n("b52b").default},r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("uni-swipe-action",[t._l(t.list,(function(e,i){return[n("uni-swipe-action-item",{key:i,attrs:{options:t.options},on:{onClick:function(n){arguments[0]=n=t.$handleEvent(n),t.onClick(e,i)}}},[n("history-list",{key:i,attrs:{item:e},on:{gotoTopicInfo:function(n){arguments[0]=n=t.$handleEvent(n),t.gotoTopicInfo(e)}}})],1)]}))],2),0==t.list.length?n("no-thing"):t._e(),n("load-more",{attrs:{loadtext:t.loadtext}})],1)},o=[]},a1b7:function(t,e,n){"use strict";n.r(e);var i=n("61f2"),r=n("a32d");for(var o in r)"default"!==o&&function(t){n.d(e,t,(function(){return r[t]}))}(o);var u,a=n("f0c5"),s=Object(a["a"])(r["default"],i["b"],i["c"],!1,null,"1563d8b9",null,!1,i["a"],u);e["default"]=s.exports},a32d:function(t,e,n){"use strict";n.r(e);var i=n("ec52"),r=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=r.a},ec52:function(t,e,n){"use strict";(function(t){var i=n("4ea4");n("a434"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("96cf");var r=i(n("1da1")),o=i(n("5530")),u=i(n("b52b")),a=i(n("f758")),s=i(n("3a7a")),c=i(n("632b")),l=n("26cb"),d=i(n("792a")),f=n("0785"),p={components:{historyList:u.default,loadMore:a.default,uniSwipeAction:s.default,uniSwipeActionItem:c.default,noThing:d.default},computed:(0,o.default)({},(0,l.mapState)(["userInfo"])),data:function(){return{list:[],loadtext:"",options:[{text:"删除",style:{backgroundColor:"#dd524d"}}]}},mounted:function(){this.initData()},methods:{initData:function(){var t=this;return(0,r.default)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.userInfo.id){e.next=6;break}return e.next=3,(0,f.getTopicHistory)();case 3:n=e.sent,0===n.length&&(t.loadtext="浏览历史为空"),t.list=n;case 6:case"end":return e.stop()}}),e)})))()},onClick:function(t,e){this.$http.setLoading(!1),(0,f.deleteHistory)(t.id),this.list.splice(e,1)},gotoTopicInfo:function(t){uni.navigateTo({url:"../../pages/detail/detail?id="+t.tid})},showDitu:function(){t("log",88," at pages/user-history/user-history.vue:76"),uni.getLocation({type:"wgs84",success:function(e){t("log","当前位置的经度："+e.longitude," at pages/user-history/user-history.vue:80"),t("log","当前位置的纬度："+e.latitude," at pages/user-history/user-history.vue:81")},fail:function(e){t("log",e," at pages/user-history/user-history.vue:84")},complete:function(){}})}}};e.default=p}).call(this,n("0de9")["log"])}}]);