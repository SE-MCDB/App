(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-need-detail-detail"],{"04c4":function(e,t,r){var i=r("6962");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=r("4f06").default;n("512fdcc0",i,!0,{sourceMap:!1,shadowMode:!1})},"0734":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={name:"tuiListView",props:{title:{type:String,default:""},backgroundColor:{type:String,default:"transparent"},unlined:{type:String,default:""}}};t.default=i},"0b0b":function(e,t,r){"use strict";r.r(t);var i=r("56af"),n=r.n(i);for(var a in i)"default"!==a&&function(e){r.d(t,e,(function(){return i[e]}))}(a);t["default"]=n.a},1e3:function(e,t,r){"use strict";r.r(t);var i=r("eeac"),n=r("5621");for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);r("1d7e");var o,s=r("f0c5"),c=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"f0cb76ca",null,!1,i["a"],o);t["default"]=c.exports},1110:function(e,t,r){"use strict";var i=r("8ea6"),n=r.n(i);n.a},"1d7e":function(e,t,r){"use strict";var i=r("04c4"),n=r.n(i);n.a},"20ce":function(e,t,r){"use strict";var i=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.createContact=t.getNeedDetail=void 0,r("96cf");var n=i(r("1da1")),a=i(r("4622")),o=(i(r("46ee")),r("13b4"),function(){var e=(0,n.default)(regeneratorRuntime.mark((function e(t){var r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("id is"+t),console.log("getNeedDetail"),r={Authorization:"Bearer "+uni.getStorageSync("token")},e.next=5,a.default.get("need/"+t,{},r);case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());t.getNeedDetail=o;var s=function(){var e=(0,n.default)(regeneratorRuntime.mark((function e(t){var r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={Authorization:"Bearer "+uni.getStorageSync("token")},e.next=3,a.default.post("need/contact",t,r);case 3:return i=e.sent,console.log(i.error_msg),e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.createContact=s},2315:function(e,t,r){"use strict";r("4160"),r("159b"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={name:"uni-collapse",props:{accordion:{type:[Boolean,String],default:!1}},data:function(){return{}},provide:function(){return{collapse:this}},created:function(){this.childrens=[]},methods:{onChange:function(){var e=[];this.childrens.forEach((function(t,r){t.isOpen&&e.push(t.nameSync)})),this.$emit("change",e)}}};t.default=i},2349:function(e,t,r){var i=r("24fb");t=i(!1),t.push([e.i,'.tui-list-cell[data-v-54473b38]{position:relative;width:100%;box-sizing:border-box}.tui-radius[data-v-54473b38]{border-radius:%?6?%;overflow:hidden}.tui-cell-hover[data-v-54473b38]{background-color:#f1f1f1!important}.tui-list-cell[data-v-54473b38]::after{content:"";position:absolute;border-bottom:%?1?% solid #eaeef1;-webkit-transform:scaleY(.5) translateZ(0);transform:scaleY(.5) translateZ(0);-webkit-transform-origin:0 100%;transform-origin:0 100%;bottom:0;right:0;left:0}.tui-line-left[data-v-54473b38]::after{left:%?30?%!important}.tui-line-right[data-v-54473b38]::after{right:%?30?%!important}.tui-cell-unlined[data-v-54473b38]::after{border-bottom:0!important}.tui-cell-arrow[data-v-54473b38]::before{content:" ";height:10px;width:10px;border-width:2px 2px 0 0;border-color:silver;border-style:solid;-webkit-transform:matrix(.5,.5,-.5,.5,0,0);transform:matrix(.5,.5,-.5,.5,0,0);position:absolute;top:50%;margin-top:-6px;right:%?30?%}.tui-arrow-right[data-v-54473b38]::before{right:0!important}.tui-arrow-gray[data-v-54473b38]::before{border-color:#666!important}.tui-arrow-white[data-v-54473b38]::before{border-color:#fff!important}.tui-arrow-warning[data-v-54473b38]::before{border-color:#ff7900!important}.tui-arrow-success[data-v-54473b38]::before{border-color:#19be6b!important}.tui-arrow-danger[data-v-54473b38]::before{border-color:#eb0909!important}',""]),e.exports=t},"2d30":function(e,t,r){"use strict";r("a9e3"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={name:"tuiCard",props:{full:{type:Boolean,default:!1},image:{type:Object,default:function(){return{url:"",height:60,width:60,circle:!1}}},title:{type:Object,default:function(){return{text:"",size:30,color:"#7A7A7A"}}},tag:{type:Object,default:function(){return{text:"",size:24,color:"#b2b2b2"}}},header:{type:Object,default:function(){return{bgcolor:"#fff",line:!1}}},border:{type:Boolean,default:!1},index:{type:Number,default:0}},methods:{handleClick:function(){this.$emit("click",{index:this.index})},longTap:function(){this.$emit("longclick",{index:this.index})}}};t.default=i},"3f63":function(e,t,r){"use strict";r.r(t);var i=r("2d30"),n=r.n(i);for(var a in i)"default"!==a&&function(e){r.d(t,e,(function(){return i[e]}))}(a);t["default"]=n.a},"49a8":function(e,t,r){"use strict";r.r(t);var i=r("0734"),n=r.n(i);for(var a in i)"default"!==a&&function(e){r.d(t,e,(function(){return i[e]}))}(a);t["default"]=n.a},"542d":function(e,t,r){e.exports=r.p+"static/img/need_contracted.b69b28cb.jpg"},5479:function(e,t,r){"use strict";var i;r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return a})),r.d(t,"a",(function(){return i}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-uni-view",{staticClass:"uni-collapse"},[e._t("default")],2)},a=[]},5621:function(e,t,r){"use strict";r.r(t);var i=r("847d"),n=r.n(i);for(var a in i)"default"!==a&&function(e){r.d(t,e,(function(){return i[e]}))}(a);t["default"]=n.a},"56af":function(e,t,r){"use strict";r("a9e3"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={name:"tuiListCell",props:{arrow:{type:Boolean,default:!1},arrowColor:{type:String,default:""},hover:{type:Boolean,default:!0},unlined:{type:Boolean,default:!1},lineLeft:{type:Boolean,default:!0},lineRight:{type:Boolean,default:!1},padding:{type:String,default:"26rpx 30rpx"},backgroundColor:{type:String,default:"#fff"},size:{type:Number,default:28},color:{type:String,default:"#333"},radius:{type:Boolean,default:!1},arrowRight:{type:Boolean,default:!0},index:{type:Number,default:0}},methods:{handleClick:function(){this.$emit("click",{index:this.index})}}};t.default=i},6962:function(e,t,r){var i=r("24fb");t=i(!1),t.push([e.i,'.uni-collapse-cell[data-v-f0cb76ca]{position:relative}.uni-collapse-cell--hover[data-v-f0cb76ca]{background-color:#f1f1f1}.uni-collapse-cell--open[data-v-f0cb76ca]{background-color:#f1f1f1}.uni-collapse-cell--disabled[data-v-f0cb76ca]{opacity:.3}.uni-collapse-cell--animation[data-v-f0cb76ca]{transition:all .3s}.uni-collapse-cell[data-v-f0cb76ca]:after{position:absolute;z-index:3;right:0;bottom:0;left:0;height:1px;content:"";-webkit-transform:scaleY(.5);transform:scaleY(.5);background-color:#c8c7cc}.uni-collapse-cell__title[data-v-f0cb76ca]{padding:%?24?% %?30?%;width:100%;box-sizing:border-box;flex:1;position:relative;display:flex;flex-direction:row;justify-content:space-between;align-items:center}.uni-collapse-cell__title-extra[data-v-f0cb76ca]{margin-right:%?18?%;display:flex;flex-direction:row;justify-content:center;align-items:center}.uni-collapse-cell__title-img[data-v-f0cb76ca]{height:%?52?%;width:%?52?%}.uni-collapse-cell__title-arrow[data-v-f0cb76ca]{width:20px;height:20px;-webkit-transform:rotate(0);transform:rotate(0);-webkit-transform-origin:center center;transform-origin:center center}.uni-collapse-cell__title-arrow.uni-active[data-v-f0cb76ca]{-webkit-transform:rotate(-180deg);transform:rotate(-180deg)}.uni-collapse-cell__title-inner[data-v-f0cb76ca]{flex:1;overflow:hidden;display:flex;flex-direction:column}.uni-collapse-cell__title-text[data-v-f0cb76ca]{font-size:%?32?%;text-overflow:ellipsis;white-space:nowrap;color:inherit;line-height:1.5;overflow:hidden}.uni-collapse-cell__content[data-v-f0cb76ca]{position:relative;width:100%;overflow:hidden;background:#fff}.uni-collapse-cell__content uni-view[data-v-f0cb76ca]{font-size:%?28?%}',""]),e.exports=t},"6b37":function(e,t,r){var i=r("e8d0");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=r("4f06").default;n("5f380d0c",i,!0,{sourceMap:!1,shadowMode:!1})},7020:function(e,t,r){var i=r("24fb");t=i(!1),t.push([e.i,'.uni-collapse[data-v-33ac2975]{background-color:#fff;position:relative;width:100%;display:flex;flex-direction:column}.uni-collapse[data-v-33ac2975]:after{position:absolute;z-index:10;right:0;bottom:0;left:0;height:1px;content:"";-webkit-transform:scaleY(.5);transform:scaleY(.5);background-color:#c8c7cc}.uni-collapse[data-v-33ac2975]:before{position:absolute;z-index:10;right:0;top:0;left:0;height:1px;content:"";-webkit-transform:scaleY(.5);transform:scaleY(.5);background-color:#c8c7cc}',""]),e.exports=t},"7d6a":function(e,t,r){"use strict";var i=r("4ea4");r("ac1f"),r("5319"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r("96cf");var n=i(r("1da1")),a=i(r("5530")),o=r("26cb"),s=r("20ce"),c=i(r("e67a")),u=i(r("99a4")),l=i(r("fe6b")),d=i(r("f758")),f=r("a34d"),p=r("c881"),h=i(r("b671")),b=i(r("1e34")),g=i(r("455d")),v=i(r("be13")),m=(i(r("1000")),i(r("f55a")),r("13b4")),w=r("e9a6"),x=(r("fd3b"),{components:{tuiCard:c.default,tuiListView:u.default,tuiListCell:l.default,uniCol:h.default,uniRow:b.default,uniSection:g.default,uniCard:v.default,loadMore:d.default},data:function(){return{order:{order_id:0,state:-1},field_items:["信息技术","装备制造","新材料","新能源","节能环保","生物医药","科学创意","检验检测","其他"],emergencyItems:[{value:"0",name:"低"},{value:"1",name:"中"},{value:"2",name:"高"}],item:[],orderlist:[],sum:0,detail:{id:10}}},onLoad:function(e){console.log("data should be:"+e+" and id should be:"+e.id),this.initData(e.id)},onShow:function(){this.initData(this.item.need_id)},onNavigationBarButtonTap:function(e){},computed:(0,a.default)({},(0,o.mapState)(["userInfo"])),methods:{initData:function(e){var t=this;return(0,n.default)(regeneratorRuntime.mark((function r(){var i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(e){r.next=3;break}return console.log("error!"),r.abrupt("return");case 3:return uni.setNavigationBarTitle({title:"需求详情"}),console.log("the id is "+e),r.next=7,(0,s.getNeedDetail)(e);case 7:i=r.sent,t.item=i,t.detail.id=i.need_id,t.$nextTick((function(){t.item=i})),t.item&&t.getOrderList();case 12:case"end":return r.stop()}}),r)})))()},getOrderList:function(){var e=this;return(0,n.default)(regeneratorRuntime.mark((function t(){var r,i,n,a,o,s,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log(e.detail.id),r={},4!==e.userInfo.type){t.next=12;break}return r={enterprise_id:e.item.enterprise_id,expert_id:e.userInfo.id,need_id:e.item.need_id},t.next=6,(0,f.getOrder)(r);case 6:if(i=t.sent,!i){t.next=12;break}return t.next=10,(0,p.getOrderDetail)(i.order_id);case 10:n=t.sent,n.order_id&&(e.order=n);case 12:return t.next=14,(0,p.needToOrderlist)(e.item.need_id);case 14:if(a=t.sent,!(a.data[0]>0)){t.next=36;break}o=0,s=[];case 19:if(!(o<a.data.length)){t.next=34;break}return t.next=22,(0,p.getOrderDetail)(a.data[o]);case 22:return c=t.sent,t.next=25,(0,w.getUserInfo)({user_id:c.expert_id});case 25:u=t.sent,console.log(c.expert_id),console.log(u.userpic),c.expertPic=m.picUrl+u.userpic,0===c.state?c.state="订单待接受":1===c.state?c.state="订单进行中":3===c.state&&(c.state="订单已完成"),s.push(c);case 31:o++,t.next=19;break;case 34:e.orderlist=s,e.sum=o+1;case 36:case"end":return t.stop()}}),t)})))()},formatRichText:function(e){var t=e.replace(/<img[^>]*>/gi,(function(e,t){return e=e.replace(/style="[^"]+"/gi,"").replace(/style='[^']+'/gi,""),e=e.replace(/width="[^"]+"/gi,"").replace(/width='[^']+'/gi,""),e=e.replace(/height="[^"]+"/gi,"").replace(/height='[^']+'/gi,""),e}));return t=t.replace(/style="[^"]+"/gi,(function(e,t){return e=e.replace(/width:[^;]+;/gi,"max-width:100%;").replace(/width:[^;]+;/gi,"max-width:100%;"),e})),t=t.replace(/<br[^>]*\/>/gi,""),t=t.replace(/\<img/gi,'<img style="max-width:100%;height:auto;display:block;margin:0px auto;"'),t},contact:function(){var e={enterprise_id:this.item.enterprise_id,expert_id:this.userInfo.id,need_id:this.item.need_id};(0,s.createContact)(e);console.log(e),uni.navigateTo({url:"../user-chat/user-chat?fid="+this.item.enterprise_id})},gotoSpace:function(e){console.log(e.need.enterprise_id),console.log(this.userInfo.id),console.log(e.expert_id),console.log(this.userInfo.id),e.need.enterprise_id===this.userInfo.id||e.expert_id===this.userInfo.id?uni.navigateTo({url:"../order-detail/order-detail?id="+e.order_id}):uni.navigateTo({url:"../user-space/user-space?uid="+e.expert_id})}}});t.default=x},"7ea3":function(e,t,r){"use strict";r.r(t);var i=r("2315"),n=r.n(i);for(var a in i)"default"!==a&&function(e){r.d(t,e,(function(){return i[e]}))}(a);t["default"]=n.a},8376:function(e,t,r){"use strict";var i=r("6b37"),n=r.n(i);n.a},"847d":function(e,t,r){"use strict";var i=r("4ea4");r("4160"),r("a9e3"),r("d3b7"),r("ac1f"),r("25f0"),r("159b"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r("0baf")),a={name:"uni-collapse-item",components:{uniIcon:n.default},props:{contentdata:String,title:{type:String,default:""},name:{type:[Number,String],default:0},disabled:{type:[Boolean,String],default:!1},showAnimation:{type:Boolean,default:!1},open:{type:[Boolean,String],default:!1},thumb:{type:String,default:""}},data:function(){var e="Uni_".concat(Math.ceil(1e6*Math.random()).toString(36));return{isOpen:!1,height:"auto",elId:e}},watch:{open:function(e){this.isOpen=e}},inject:["collapse"],created:function(){if(this.isOpen=this.open,this.nameSync=this.name?this.name:this.collapse.childrens.length,this.collapse.childrens.push(this),"true"===String(this.collapse.accordion)&&this.isOpen){var e=this.collapse.childrens[this.collapse.childrens.length-2];e&&(this.collapse.childrens[this.collapse.childrens.length-2].isOpen=!1)}},mounted:function(){this.getSize()},methods:{getSize:function(){var e=this;this.showAnimation&&uni.createSelectorQuery().in(this).select("#".concat(this.elId)).boundingClientRect().exec((function(t){e.height=t[0].height+"px"}))},onClick:function(){var e=this;this.disabled||("true"===String(this.collapse.accordion)&&this.collapse.childrens.forEach((function(t){t!==e&&(t.isOpen=!1)})),this.isOpen=!this.isOpen,this.collapse.onChange&&this.collapse.onChange())}}};t.default=a},"87fd":function(e,t,r){var i=r("24fb");t=i(!1),t.push([e.i,'.tui-list-title[data-v-50ac3af9]{width:100%;padding:%?30?%;box-sizing:border-box;font-size:%?30?%;line-height:%?30?%;color:#666}.tui-list-content[data-v-50ac3af9]{width:100%;position:relative}.tui-list-content[data-v-50ac3af9]::before{content:" ";position:absolute;top:0;right:0;left:0;border-top:%?1?% solid #eaeef1;-webkit-transform:scaleY(.5) translateZ(0);transform:scaleY(.5) translateZ(0);-webkit-transform-origin:0 0;transform-origin:0 0;z-index:2;pointer-events:none}.tui-list-content[data-v-50ac3af9]::after{content:"";width:100%;position:absolute;border-bottom:%?1?% solid #eaeef1;-webkit-transform:scaleY(.5) translateZ(0);transform:scaleY(.5) translateZ(0);-webkit-transform-origin:0 100%;transform-origin:0 100%;bottom:0;right:0;left:0}.tui-border-top[data-v-50ac3af9]::before{border-top:0}.tui-border-bottom[data-v-50ac3af9]::after{border-bottom:0}.tui-border-all[data-v-50ac3af9]::after{border-bottom:0}.tui-border-all[data-v-50ac3af9]::before{border-top:0}',""]),e.exports=t},"8cb6":function(e,t,r){var i=r("7020");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=r("4f06").default;n("43219dcf",i,!0,{sourceMap:!1,shadowMode:!1})},"8ea6":function(e,t,r){var i=r("87fd");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=r("4f06").default;n("3acb0854",i,!0,{sourceMap:!1,shadowMode:!1})},"913f":function(e,t,r){"use strict";var i;r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return a})),r.d(t,"a",(function(){return i}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-uni-view",{staticClass:"tui-list-view tui-view-class",style:{backgroundColor:e.backgroundColor}},[e.title?r("v-uni-view",{staticClass:"tui-list-title"},[e._v(e._s(e.title))]):e._e(),r("v-uni-view",{staticClass:"tui-list-content",class:[e.unlined?"tui-border-"+e.unlined:""]},[e._t("default")],2)],1)},a=[]},"95fd":function(e,t,r){var i=r("24fb");t=i(!1),t.push([e.i,".detail[data-v-8a4f8a48]{min-height:%?1380?%;background-color:#f1f1f1;padding:%?10?%}.header[data-v-8a4f8a48]{margin:%?10?%;background-color:#fff;border:solid #f5fff0 %?2?%;height:17%}.image-image[data-v-8a4f8a48]{padding-top:5%;width:100%}.need-title[data-v-8a4f8a48]{font-size:%?35?%;font-weight:700;color:#87ceeb;overflow:hidden;width:%?400?%!important;overflow:unset;word-break:break-all;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:horizontal;-webkit-line-clamp:2;white-space:nowrap}.need-info[data-v-8a4f8a48]{padding-top:%?10?%}.need-info-item[data-v-8a4f8a48]{height:%?50?%}.need-info-text[data-v-8a4f8a48]{font-weight:100;font-size:%?20?%}.need-introduction[data-v-8a4f8a48]{max-height:%?150?%;opacity:.8;background-color:#fffffd;margin-top:%?10?%}.need-description[data-v-8a4f8a48]{margin:%?10?%;padding-left:%?10?%;min-height:%?200?%;background-color:#fffffd;font-family:SimHei;font-size:%?30?%}.need-contributors[data-v-8a4f8a48]{margin-bottom:15%;display:flex}.load-text[data-v-8a4f8a48]{bottom:%?30?%}.fix-button[data-v-8a4f8a48]{background-color:#fff;position:fixed;bottom:%?10?%;right:%?10?%;width:100%}.fix-button-button[data-v-8a4f8a48]{margin:%?10?%;font-size:%?20?%}",""]),e.exports=t},"982b":function(e,t,r){"use strict";r.r(t);var i=r("b3c4"),n=r("df2e");for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);r("b993");var o,s=r("f0c5"),c=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"8a4f8a48",null,!1,i["a"],o);t["default"]=c.exports},"99a4":function(e,t,r){"use strict";r.r(t);var i=r("913f"),n=r("49a8");for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);r("1110");var o,s=r("f0c5"),c=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"50ac3af9",null,!1,i["a"],o);t["default"]=c.exports},a34d:function(e,t,r){"use strict";var i=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.getChat=t.createChat=t.pushMessage=t.createOrder=t.getOrder=t.getContact=void 0,r("96cf");var n=i(r("1da1")),a=i(r("4622")),o=i(r("46ee")),s=r("13b4"),c=function(){var e=(0,n.default)(regeneratorRuntime.mark((function e(t){var r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={Authorization:"Bearer "+uni.getStorageSync("token")},e.next=3,a.default.get("need/get_contact",t,r);case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.getContact=c;var u=function(){var e=(0,n.default)(regeneratorRuntime.mark((function e(t){var r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={Authorization:"Bearer "+uni.getStorageSync("token")},e.next=3,a.default.get("order/get",t,r);case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.getOrder=u;var l=function(){var e=(0,n.default)(regeneratorRuntime.mark((function e(t){var r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={Authorization:"Bearer "+uni.getStorageSync("token")},console.log(t),e.next=4,a.default.post("order",t,r);case 4:return i=e.sent,console.log("createOrder "+i.error_msg),e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.createOrder=l;var d=function(){var e=(0,n.default)(regeneratorRuntime.mark((function e(t){var r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={Authorization:"Bearer "+uni.getStorageSync("token")},a.default.setLoading(!1),e.next=4,a.default.post("chat/push",t,r);case 4:return i=e.sent,a.default.setLoading(!0),e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.pushMessage=d;var f=function(){var e=(0,n.default)(regeneratorRuntime.mark((function e(t){var r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={Authorization:"Bearer "+uni.getStorageSync("token")},e.next=3,a.default.post("chat/create",t,r);case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.createChat=f;var p=function(){var e=(0,n.default)(regeneratorRuntime.mark((function e(t,r){var i,n,c,u,l,d,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i={Authorization:"Bearer "+uni.getStorageSync("token")},e.next=3,a.default.get("chat/"+t,{},i);case 3:return n=e.sent,c={},n&&(u=r.id==n.from_user_id?n.to_user_id:n.from_user_id,l=o.default.gettime.gettime(new Date),d="",f=n.message_list,c={id:n.chatroom_id,fid:u,fromId:n.from_user_id,toId:n.to_user_id,afterTime:+new Date(n.afterTime),userpic:n.from_user_id==r.id?s.picUrl+n.to_user_pic:s.picUrl+n.from_user_pic,username:n.from_user_id==r.id?n.to_user_name:n.from_user_name,time:l,message:d,noreadnum:0,messages:f}),e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();t.getChat=p},b3c4:function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return a})),r.d(t,"a",(function(){return i}));var i={uniIcons:r("8b17").default,uniSection:r("455d").default,uniList:r("e3e9").default,uniListItem:r("0b5b").default},n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"detail"},[i("uni-row",{staticClass:"header"},[i("uni-col",{staticClass:"image",attrs:{span:9}},[i("v-uni-image",{staticClass:"image-image",attrs:{src:r("542d"),mode:"widthFix","lazy-load":!0}})],1),i("uni-col",{staticClass:"title-info",attrs:{span:14,offset:1}},[i("uni-row",{staticClass:"need-title"},[i("v-uni-text",{staticClass:"need-title"},[e._v(e._s(e.item.title))])],1),i("uni-row",{staticClass:"need-info"},[i("uni-row",{staticClass:"need-info-item",attrs:{span:14}},[i("uni-icons",{attrs:{type:"gear",size:"18"}}),i("v-uni-text",{staticClass:"need-info-text"},[e._v("领域："+e._s(e.field_items[e.item.field]))])],1),i("uni-row",{staticClass:"need-info-item",attrs:{span:14}},[i("uni-icons",{attrs:{type:"gear",size:"18"}}),i("v-uni-text",{staticClass:"need-info-text"},[e._v("关键词："+e._s(e.item.key_word))])],1)],1)],1)],1),i("uni-row",{staticClass:"need-header"},[i("uni-section",{attrs:{title:"Introduction",subTitle:"需求说明",type:"line"}})],1),i("uni-row",{staticClass:"need-introduction"},[i("uni-col",{attrs:{span:14,offset:1}},[i("uni-icons",{attrs:{type:"location",size:"18"}}),i("v-uni-text",{staticClass:"need-introduction-text"},[e._v("地址："+e._s(e.item.address))])],1),i("uni-col",{attrs:{span:8,offset:1}},[i("uni-icons",{attrs:{type:"cart",size:"18"}}),i("v-uni-text",{staticClass:"need-introduction-text"},[e._v("经费：￥"+e._s(e.item.money)+"万")])],1)],1),i("uni-row",{staticClass:"need-introduction"},[i("uni-col",{attrs:{span:23,offset:1}},[i("uni-icons",{attrs:{type:"calendar",size:"18"}}),i("v-uni-text",{staticClass:"need-introduction-text"},[e._v("开始日期："+e._s(e.item.start_time))])],1)],1),i("uni-row",{staticClass:"need-introduction"},[i("uni-col",{attrs:{span:23,offset:1}},[i("uni-icons",{attrs:{type:"calendar",size:"18"}}),i("v-uni-text",{staticClass:"need-introduction-text"},[e._v("截止日期："+e._s(e.item.end_time))])],1)],1),i("uni-row",{staticClass:"need-header"},[i("uni-section",{attrs:{title:"Description",subTitle:"需求描述",type:"line"}})],1),i("uni-row",{staticClass:"need-description"},[i("v-uni-text",{staticClass:"need-description"},[e._v(e._s(e.item.description))])],1),i("uni-row",{staticClass:"need-after"},[i("uni-section",{attrs:{title:"Contributors",subTitle:"订单信息",type:"line"}})],1),i("uni-row",{staticClass:"need-contributors"},[i("uni-list",[e._l(e.orderlist,(function(t,r){return i("v-uni-view",{key:r,on:{click:function(r){arguments[0]=r=e.$handleEvent(r),e.gotoSpace(t)}}},[i("uni-list-item",{attrs:{thumb:t.expertPic,title:t.expert_name,rightText:t.state}})],1)})),0===e.orderlist.length?i("v-uni-view",{staticClass:"load-text"},[i("load-more",{attrs:{loadtext:"暂时没有订单信息~"}})],1):i("v-uni-view",{staticClass:"load-text"},[i("load-more",{attrs:{loadtext:"没有更多信息了~"}})],1)],2)],1),i("uni-row",{staticClass:"fix-button"},[4==e.userInfo.type&&0==e.order.order_id?i("v-uni-view",[i("uni-col",{attrs:{span:8,offset:16}},[i("v-uni-button",{staticClass:"fix-button-button",attrs:{type:"primary"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.contact.apply(void 0,arguments)}}},[e._v("立即对接")])],1)],1):e._e()],1)],1)},a=[]},b6d5:function(e,t,r){"use strict";var i;r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return a})),r.d(t,"a",(function(){return i}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-uni-view",{staticClass:"tui-card-class tui-card",class:[e.full?"tui-card-full":"",e.border?"tui-card-border":""],on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleClick.apply(void 0,arguments)},longpress:function(t){arguments[0]=t=e.$handleEvent(t),e.longTap.apply(void 0,arguments)}}},[r("v-uni-view",{staticClass:"tui-card-header",class:{"tui-header-line":e.header.line},style:{background:e.header.bgcolor||"#fff"}},[r("v-uni-view",{staticClass:"tui-header-left"},[e.image.url?r("v-uni-image",{staticClass:"tui-header-thumb",class:{"tui-thumb-circle":e.image.circle},style:{height:(e.image.height||60)+"rpx",width:(e.image.width||60)+"rpx"},attrs:{src:e.image.url,mode:"widthFix"}}):e._e(),e.title.text?r("v-uni-text",{staticClass:"tui-header-title",style:{fontSize:(e.title.size||30)+"rpx",color:e.title.color||"#7A7A7A"}},[e._v(e._s(e.title.text))]):e._e()],1),e.tag.text?r("v-uni-view",{staticClass:"tui-header-right",style:{fontSize:(e.tag.size||24)+"rpx",color:e.tag.color||"#b2b2b2"}},[e._v(e._s(e.tag.text))]):e._e()],1),r("v-uni-view",{staticClass:"tui-card-body"},[e._t("body")],2),r("v-uni-view",{staticClass:"tui-card-footer"},[e._t("footer")],2)],1)},a=[]},b993:function(e,t,r){"use strict";var i=r("f2c7"),n=r.n(i);n.a},c881:function(e,t,r){"use strict";var i=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.needToOrderlist=t.getOrderDetail=void 0,r("96cf");var n=i(r("1da1")),a=i(r("4622")),o=(i(r("46ee")),r("13b4"),function(){var e=(0,n.default)(regeneratorRuntime.mark((function e(t){var r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("getOrderDetail"),r={Authorization:"Bearer "+uni.getStorageSync("token")},e.next=4,a.default.get("order/"+t,{},r);case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());t.getOrderDetail=o;var s=function(){var e=(0,n.default)(regeneratorRuntime.mark((function e(t){var r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("needToOrderlist"),r={Authorization:"Bearer "+uni.getStorageSync("token")},e.next=4,a.default.get("need/"+t+"/order",{},r);case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.needToOrderlist=s},da68:function(e,t,r){var i=r("2349");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=r("4f06").default;n("10d97893",i,!0,{sourceMap:!1,shadowMode:!1})},df2e:function(e,t,r){"use strict";r.r(t);var i=r("7d6a"),n=r.n(i);for(var a in i)"default"!==a&&function(e){r.d(t,e,(function(){return i[e]}))}(a);t["default"]=n.a},e67a:function(e,t,r){"use strict";r.r(t);var i=r("b6d5"),n=r("3f63");for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);r("8376");var o,s=r("f0c5"),c=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"2bddacb6",null,!1,i["a"],o);t["default"]=c.exports},e8d0:function(e,t,r){var i=r("24fb");t=i(!1),t.push([e.i,'.tui-card[data-v-2bddacb6]{margin:0 %?30?%;font-size:%?28?%;background-color:#fff;border-radius:%?10?%;box-shadow:0 0 %?10?% #eee;box-sizing:border-box;overflow:hidden}.tui-card-full[data-v-2bddacb6]{margin:0!important;border-radius:0!important}.tui-card-full[data-v-2bddacb6]::after{border-radius:0!important}.tui-card-border[data-v-2bddacb6]{position:relative;box-shadow:none!important}.tui-card-border[data-v-2bddacb6]::after{content:" ";position:absolute;height:200%;width:200%;border:1px solid #ddd;transform-origin:0 0;-webkit-transform-origin:0 0;-webkit-transform:scale(.5);transform:scale(.5);left:0;top:0;border-radius:%?20?%;box-sizing:border-box;pointer-events:none}.tui-card-header[data-v-2bddacb6]{width:100%;padding:%?20?%;display:flex;align-items:center;justify-content:space-between;position:relative;box-sizing:border-box;overflow:hidden;border-top-left-radius:%?10?%;border-top-right-radius:%?10?%}.tui-card-header[data-v-2bddacb6]::after{content:"";position:absolute;border-bottom:%?1?% solid #eaeef1;-webkit-transform:scaleY(.5);transform:scaleY(.5);bottom:0;right:0;left:0;pointer-events:none}.tui-header-line[data-v-2bddacb6]::after{border-bottom:0!important}.tui-header-thumb[data-v-2bddacb6]{height:%?60?%;width:%?60?%;vertical-align:middle;margin-right:%?20?%;border-radius:%?6?%}.tui-thumb-circle[data-v-2bddacb6]{border-radius:50%!important}.tui-header-title[data-v-2bddacb6]{display:inline-block;font-size:%?30?%;color:#7a7a7a;vertical-align:middle;max-width:%?460?%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.tui-header-right[data-v-2bddacb6]{font-size:%?24?%;color:#b2b2b2}.tui-card-body[data-v-2bddacb6]{font-size:%?32?%;color:#262b3a;box-sizing:border-box}.tui-card-footer[data-v-2bddacb6]{font-size:%?28?%;color:#596d96;border-bottom-left-radius:%?10?%;border-bottom-right-radius:%?10?%;box-sizing:border-box}',""]),e.exports=t},e9a6:function(e,t,r){"use strict";var i=r("4ea4");r("d81d"),Object.defineProperty(t,"__esModule",{value:!0}),t.getTopicTitleByUid=t.getTopicListByUid=t.getUserInfo=t.saveUserAccess=void 0,r("96cf");var n=i(r("1da1")),a=i(r("4622")),o=i(r("46ee")),s=(r("13b4"),function(){var e=(0,n.default)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",result);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());t.saveUserAccess=s;var c=function(){var e=(0,n.default)(regeneratorRuntime.mark((function e(t){var r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={Authorization:"Bearer "+uni.getStorageSync("token")},e.next=3,a.default.get("user/profile",t,r);case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.getUserInfo=c;var u=function(){var e=(0,n.default)(regeneratorRuntime.mark((function e(t){var r,i,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={Authorization:"Bearer "+uni.getStorageSync("token")},i=[],e.next=4,a.default.get("post/"+t,{},r);case 4:return n=e.sent,s=n.models,s&&s.length&&(i=s.map((function(e){return{createTime:o.default.gettime.gettime(e.created_at),content:e.title,id:e.id,like_num:e.like_num,favor_num:e.favor_num}}))),e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.getTopicListByUid=u;var l=function(){var e=(0,n.default)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.default.get("topic/title/user/"+t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.getTopicTitleByUid=l},eeac:function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return a})),r.d(t,"a",(function(){return i}));var i={uniIcon:r("0baf").default},n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-uni-view",{class:["uni-collapse-cell",{"uni-collapse-cell--disabled":e.disabled,"uni-collapse-cell--open":e.isOpen}],attrs:{"hover-class":e.disabled?"":"uni-collapse-cell--hover"}},[r("v-uni-view",{staticClass:"uni-collapse-cell__title",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onClick.apply(void 0,arguments)}}},[e.thumb?r("v-uni-view",{staticClass:"uni-collapse-cell__title-extra"},[r("v-uni-image",{staticClass:"uni-collapse-cell__title-img",attrs:{src:e.thumb}})],1):e._e(),r("v-uni-view",{staticClass:"uni-collapse-cell__title-inner"},[r("v-uni-view",{staticClass:"uni-collapse-cell__title-text"},[e._v(e._s(e.title))])],1),r("v-uni-view",{staticClass:"uni-collapse-cell__title-arrow",class:{"uni-active":e.isOpen,"uni-collapse-cell--animation":!0===e.showAnimation}},[r("uni-icon",{attrs:{color:"#bbb",size:"20",type:"arrowdown"}})],1)],1),r("v-uni-view",{staticClass:"uni-collapse-cell__content",class:{"uni-collapse-cell--animation":!0===e.showAnimation},style:{height:e.isOpen?e.height:"0px"}},[r("v-uni-view",{attrs:{id:e.elId}},[e._t("default"),e.contentdata?r("v-uni-view",{staticStyle:{padding:"30upx"}},[e._v(e._s(e.contentdata))]):e._e()],2)],1)],1)},a=[]},f2c7:function(e,t,r){var i=r("95fd");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=r("4f06").default;n("20188d76",i,!0,{sourceMap:!1,shadowMode:!1})},f4eb:function(e,t,r){"use strict";var i=r("8cb6"),n=r.n(i);n.a},f55a:function(e,t,r){"use strict";r.r(t);var i=r("5479"),n=r("7ea3");for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);r("f4eb");var o,s=r("f0c5"),c=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"33ac2975",null,!1,i["a"],o);t["default"]=c.exports},f728:function(e,t,r){"use strict";var i=r("da68"),n=r.n(i);n.a},f857:function(e,t,r){"use strict";var i;r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return a})),r.d(t,"a",(function(){return i}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-uni-view",{staticClass:"tui-list-class tui-list-cell",class:[e.arrow?"tui-cell-arrow":"",e.arrow&&e.arrowRight?"":"tui-arrow-right",e.unlined?"tui-cell-unlined":"",e.lineLeft?"tui-line-left":"",e.lineRight?"tui-line-right":"",e.arrow&&e.arrowColor?"tui-arrow-"+e.arrowColor:"",e.radius?"tui-radius":""],style:{backgroundColor:e.backgroundColor,fontSize:e.size+"rpx",color:e.color,padding:e.padding},attrs:{"hover-class":e.hover?"tui-cell-hover":"","hover-stay-time":150},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleClick.apply(void 0,arguments)}}},[e._t("default")],2)},a=[]},fd3b:function(e,t,r){var i;r("c975"),r("4d63"),r("ac1f"),r("25f0"),r("5319");var n=[["div","line-height:2em;"],["h1","font-size:3em; line-height:1.5em;"],["h2","font-size:2em; line-height:1.8em;"],["h3","font-size:1.6em; line-height:2em;"],["h4","font-size:1.2em; line-height:2em;"],["h5","font-size:1em; line-height:2em;"],["h6","font-size:0.9em; line-height:2em;"],["p","font-size:1em; line-height:2em;"],["b","font-size:1em; line-height:2em;"],["strong","font-size:1em; line-height:2em;"],["code","font-size:1em; line-height:1.2em; background:#F6F7F8; padding:8px 2%; width:96%;"],["img","width:100%; margin:8px 0;"],["blockquote","font-size:1em; border-left:3px solid #D1D1D1; line-height:2em; border-radius:5px; background:#F6F7F8; padding:8px 2%;"],["ul","padding:5px 0; list-style:none; padding:0; margin:0;"],["li","line-height:1.5em; padding:5px 0; list-style:none; padding:0; margin:0; margin-top:10px;"],["table","width:100%; border-left:1px solid #F2F3F4; border-top:1px solid #F2F3F4;"],["th","border-right:1px solid #F2F3F4; border-bottom:1px solid #F2F3F4;"],["td","border-right:1px solid #F2F3F4; border-bottom:1px solid #F2F3F4; padding-left:5px;"]];e.exports={format:function(e){e=e.replace(/<pre[\s\S]*pre>?/gi,(function(e){return e=e.replace(/[\n]/gi,"<br />"),e=e.replace(/    /gi,'<span style="padding-left:2em;"></span>'),e.replace(/[\t]/gi,'<span style="padding-left:2em;"></span>')})),e=e.replace(/<pre/gi,'<p style="font-size:1em; margin:12px 0; line-height:1.2em; background:#F6F7F8; border-radius:5px; padding:8px 4%; width:92%;"'),e=e.replace(/<\/pre/gi,"</p");for(var t=function(t){i=new RegExp("<"+n[t][0]+">|<"+n[t][0]+" (.*?)>","gi"),e=e.replace(i,(function(e){if(-1!=e.indexOf("style=")){var r=new RegExp("<"+n[t][0]+'(.*?)style="(.*?)"(.*?)(/?)>',"gi");return e.replace(r,"<"+n[t][0]+'$1style="$2 '+n[t][1]+'"$3$4>')}r=new RegExp("<"+n[t][0]+"(.*?)(/?)>","gi");return e.replace(r,"<"+n[t][0]+'$1 style="'+n[t][1]+'$2">')}))},r=0;r<n.length;r++)t(r);return e}}},fe6b:function(e,t,r){"use strict";r.r(t);var i=r("f857"),n=r("0b0b");for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);r("f728");var o,s=r("f0c5"),c=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"54473b38",null,!1,i["a"],o);t["default"]=c.exports}}]);